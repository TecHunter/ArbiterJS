<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script src="pubsub.js"></script>

<ul id="#result">

</ul>
<script type="application/javascript">
    var connect = ps;
    connect.subscribe('/channel/sidebar/event/click', function (data) {
        console.log('sidebar click', data);

        var node = document.createElement("LI");
        var textnode = document.createTextNode(this.channel);
        node.appendChild(textnode);
        document.getElementById('#result').appendChild(node);
    });

    connect.subscribe('/channel/*/event/click', function (data, channel) {
        console.log('Any click', data);

        var node = document.createElement("LI");
        var textnode = document.createTextNode(this.channel);
        node.appendChild(textnode);
        document.getElementById('#result').appendChild(node);
    });

    connect.subscribe('/channel/*/event/*', function (data, channel) {
        console.log('Any event', data);

        var node = document.createElement("LI");
        var textnode = document.createTextNode(this.channel);
        node.appendChild(textnode);
        document.getElementById('#result').appendChild(node);
    });


    connect.subscribe('/channel/sidebar/event/*', function (data, channel) {
        console.log('Any sidebar event', data);

        var node = document.createElement("LI");
        var textnode = document.createTextNode(this.channel);
        node.appendChild(textnode);
        document.getElementById('#result').appendChild(node);
    });


    connect.subscribe('/channel/bookmark/api/add', function (data, channel) {
        console.log('bookmar api add', data);

        var node = document.createElement("LI");
        var textnode = document.createTextNode(this.channel);
        node.appendChild(textnode);
        document.getElementById('#result').appendChild(node);
    });


    connect.publish('/channel/sidebar/event/click', 'OK');
    connect.publish('/channel/bookmark/api/add', 'OK');
    connect.publish('/channel/bookmark/event/hover', 'OK');
    connect.publish('/channel/sidebar/event/hover', 'OK');
    connect.publish('/nonExistent', 'OK');
</script>
</body>
</html>